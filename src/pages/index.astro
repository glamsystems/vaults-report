---
import Layout from '../layouts/Layout.astro'
import { DashboardLayout } from '../components/layout/DashboardLayout'
import { LandingContent } from '../components/landing-content'
import { getGroupedDirectory } from '../lib/directory'

const groupedData = getGroupedDirectory()
const totalProjects = groupedData.reduce((sum, g) => sum + g.items.length, 0)
---

<Layout>
  <DashboardLayout client:load title="Vault Ecosystem" directoryCount={totalProjects} currentPath={Astro.url.pathname}>
    <LandingContent client:load data={groupedData} />
  </DashboardLayout>
</Layout>
